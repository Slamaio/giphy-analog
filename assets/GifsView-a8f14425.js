import{d as w,u as B,r as i,j as G,o as C,k as V,l as b,c as n,a,w as s,V as A,F as v,b as l,_ as S,e as I,m as u,n as N,p as d,t as x,q as T,s as y,i as E,v as F,x as M,y as R,z as $,A as j}from"./index-44b4fca2.js";import{u as q,G as z}from"./GoBackButton-0d08aec5.js";const D={key:1},J=w({__name:"GifsView",setup(L){const k=B(),f=q(),c=i(null),t=i({id:"1",url:"",title:"",images:{original:{url:""},fixed_height:{url:""},fixed_height_still:{url:""}}}),m=i([]);return G(()=>k.params.gifId,async o=>{t.value=await V.fetchGifById(o),f.lastGifId=t.value.id,f.user=t.value.user},{immediate:!0}),C(async()=>{var o;for(let r=0;r<50;r++)(o=m.value)==null||o.push(await V.fetchRandomGif())}),(o,r)=>{const h=b("router-link");return l(),n(v,null,[a(S),a(A,null,{default:s(()=>[a(I,{fluid:""},{default:s(()=>{var p;return[a(z,{block:""}),(p=t.value)!=null&&p.id?(l(),u(F,{key:0,class:"bg-background",flat:""},{default:s(()=>[a(N,{class:"px-0 text-wrap"},{default:s(()=>{var e;return[d(x((e=t.value)==null?void 0:e.title),1)]}),_:1}),a(T,{class:"px-0"},{default:s(()=>{var e;return[a(y,{gif:t.value,original:"",shareable:""},null,8,["gif"]),E("p",null,[d(" Added by: "),(e=t.value)!=null&&e.user?(l(),u(h,{key:0,to:"/user"},{default:s(()=>{var _,g;return[d(x((g=(_=t.value)==null?void 0:_.user)==null?void 0:g.username),1)]}),_:1})):(l(),n("span",D,"Anonym"))])]}),_:1})]),_:1})):(l(),u($,{key:1,class:"mx-auto my-5",type:"error",title:"Error!",text:"Gif not found.","max-width":"300"})),a(M,{modelValue:c.value,"onUpdate:modelValue":r[0]||(r[0]=e=>c.value=e),"show-arrows":"","center-active":""},{default:s(()=>[(l(!0),n(v,null,R(m.value,e=>(l(),u(j,{key:e.id},{default:s(()=>[a(y,{class:"mx-4",gif:e,to:/gifs/+e.id},null,8,["gif","to"])]),_:2},1024))),128))]),_:1},8,["modelValue"])]}),_:1})]),_:1})],64)}}});export{J as default};
