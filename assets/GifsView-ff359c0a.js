import{d as w,j as C,u as B,r as n,k as b,l as G,o as S,m as p,n as T,c as u,w as t,V as I,a as r,b as a,p as m,q as _,s as i,t as g,v,x as A,y as N,_ as x,z as R,A as j,B as E,F,i as M,C as q}from"./index-851e360e.js";import{G as z}from"./GoBackButtonComponent-4b31fa09.js";const D={key:0},$=w({__name:"GifsView",setup(L){const y=C(),V=B(),d=n(null),c=n([]),e=n({id:"1",url:"",title:"",images:{original:{url:""},original_still:{url:""},fixed_height:{url:""},fixed_height_still:{url:""}}}),k=b(()=>{if(!e.value.user)return e.value.title;const l=e.value.title.lastIndexOf(e.value.user.display_name);return e.value.title.substring(0,l-3)});return G(()=>y.params.gifId,async l=>{e.value=await p.fetchGifById(l),V.user=e.value.user},{immediate:!0}),S(async()=>{var l;for(let s=0;s<50;s++)(l=c.value)==null||l.push(await p.fetchRandomGif())}),(l,s)=>{const h=T("router-link");return r(),u(I,null,{default:t(()=>[a(M,{fluid:""},{default:t(()=>{var f;return[a(z,{block:""}),(f=e.value)!=null&&f.id?(r(),u(m,{key:0,color:"background",flat:""},{default:t(()=>[a(_,{class:"px-0 text-wrap"},{default:t(()=>[i(g(k.value)+" ",1),e.value.user?(r(),v("span",D,[i(" by "),a(h,{to:"/user"},{default:t(()=>[i(g(e.value.user.display_name),1)]),_:1})])):A("",!0)]),_:1}),a(N,{class:"px-0"},{default:t(()=>[a(x,{gif:e.value,original:"",shareable:""},null,8,["gif"])]),_:1})]),_:1})):(r(),u(R,{key:1,prominent:"",class:"mx-auto my-5 justify-center",type:"error",title:"Error!",text:"Gif not found.","max-width":"600"})),a(m,{color:"background",flat:""},{default:t(()=>[a(_,{class:"ml-11"},{default:t(()=>[i("Random gifs")]),_:1}),a(j,{modelValue:d.value,"onUpdate:modelValue":s[0]||(s[0]=o=>d.value=o),"show-arrows":"","center-active":""},{default:t(()=>[(r(!0),v(F,null,E(c.value,o=>(r(),u(q,{key:o.id},{default:t(()=>[a(x,{class:"mx-2",gif:o,to:/gifs/+o.id},null,8,["gif","to"])]),_:2},1024))),128))]),_:1},8,["modelValue"])]),_:1})]}),_:1})]),_:1})}}});export{$ as default};
